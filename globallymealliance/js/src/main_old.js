function initCustomForms(){jcf.setOptions("Select",{wrapNative:!1}),jcf.replaceAll()}function initHeaderCollapsed(){var a=".header-extended",b="header-collapsed",c="header-expanded",d=$(".header"),e=d.outerHeight();$(document).find(a).length>0&&$(window).on("scroll.header",function(){$(document).scrollTop()>e?d.addClass(b).removeClass(c):d.hasClass(b)&&d.addClass(c).removeClass(b)}).trigger("scroll")}function initToggleContent(){jQuery("div.toggle-content").openClose({hideOnClickOutside:!1,activeClass:"expanded",opener:"a.toggle-content-opener",slider:"div.toggle-content-slide",animSpeed:500,effect:"slide"})}function initRetinaCover(){jQuery(".bg-stretch").retinaCover()}function scrollBarWidth(){var a=document.createElement("div");$(a).css({width:"100",height:"100",overflow:"scroll",position:"absolute",top:"-9999"}),document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b}function initAccordion(){jQuery(".accordion").slideAccordion({allowClickWhenExpanded:!0,activeClass:"accordion-active",opener:"> a.accordion-opener",slider:"> div.accordion-slide",collapsible:!0,animSpeed:300})}function initPopup(a,b,c){var d=".popup-close",e=$("body"),f=$(".header"),g=scrollBarWidth(),h=$(".popup-nav .accordion");if("popup-nav"==a){var j,i=$(".header .nav .nav-list");$(b).on("click",function(a){if(a.preventDefault(),h.empty(),c){var b=$(this).parents("li");j=$(b).html()}else j=$(i).html();h.append(j),initAccordion(),e.toggleClass("nav-open").css("padding-right",g+"px"),f.css("padding-right",g+"px")})}else $(b).on("click",function(a){a.preventDefault(),e.toggleClass("search-open").css("padding-right",g+"px"),f.css("padding-right",g+"px")});e.on("click",d,function(a){a.preventDefault(),e.hasClass("search-open")&&(e.toggleClass("search-open").css("padding-right","0px"),f.css("padding-right","0px")),e.hasClass("nav-open")&&(h.empty(),e.toggleClass("nav-open").css("padding-right","0px"),f.css("padding-right","0px"))})}function initEnquire(){function g(){$(document).scrollTop()>=f&&(initPieChart(129,9),$(window).off("scroll.chart"))}function h(){$(document).scrollTop()>=f&&(initPieChart(166,10),$(window).off("scroll.chart"))}var a=".header .nav .nav-list .accordion-opener",b=".nav-opener";if(enquire.register("screen and (max-width: 1023px)",{match:function(){initPopup("popup-nav",b,!1),$(a).unbind("click")}}).register("screen and (min-width: 1024px)",{match:function(){initPopup("popup-nav",a,!0),$(b).unbind("click")}}),$(document).find(".chart").length>0){var c=$(".chart"),d=c.offset().top,e=c.height(),f=d+e-$(window).height();enquire.register("screen and (max-width: 767px)",{match:function(){$(window).on("scroll.chart",g).trigger("scroll"),initHeaderCollapsed()}}).register("screen and (min-width: 768px)",{match:function(){$(window).on("scroll.chart",h).trigger("scroll")}}).register("screen and (min-width: 1024px)",{match:function(){initHeaderCollapsed()},unmatch:function(){$(window).off("scroll.header")}})}}function initPieChart(a,b){var c=$(".chart .chart-box").map(function(a,b){return $(b).data("pieChart")});return c.length&&c[0]?void c.each(function(c,d){d.redraw({size:a,lineWidth:b})}):($(".chart .chart-box").pieChart({colorStart:"#429321",colorFinish:"#b4ec51",trackColor:"#e9e9e9",lineCap:"round",size:a,lineWidth:b,onStep:function(a,b,c){$(this.element).find(".chart-value").text(Math.round(c)+"%")}}),void $(".chart").addClass("chart-activated"))}jQuery(function(){initToggleContent(),initCustomForms(),initRetinaCover(),initEnquire(),initPopup("search-nav",".search-opener")});